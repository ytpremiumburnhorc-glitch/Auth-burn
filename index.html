<!DOCTYPE html>
<html>
<head>
  <title>Cookie Toolkit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }

    hr {
  border: none;
  height: 1px;
  background: rgba(255,255,255,0.2);
}

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(-45deg, #0f172a, #1e293b, #0ea5e9, #9333ea);
      background-size: 400% 400%;
      animation: bg 12s ease infinite;
      color: white;
    }

    @keyframes bg {
      0% { background-position:0% 50%; }
      50% { background-position:100% 50%; }
      100% { background-position:0% 50%; }
    }

    .card {
      width: 95%;
      max-width: 500px;
      padding: 30px;
      border-radius: 20px;
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.2);
      text-align: center;
    }

    input, textarea {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border-radius: 10px;
      border: none;
      outline: none;
    }

    textarea { height: 100px; resize: none; }

    button {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border-radius: 10px;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }

    .primary { background: linear-gradient(135deg,#00ffcc,#00c3ff); color:black; }
    .secondary { background: rgba(255,255,255,0.2); color:white; }

    .hidden { display:none; }

    .badge {
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 12px;
      display: inline-block;
      margin-top: 5px;
    }

    .premium { background: gold; color:black; }
    .member { background: #00c3ff; color:black; }

    .admin-panel {
      background: rgba(0,0,0,0.3);
      padding: 10px;
      margin-top: 15px;
      border-radius: 10px;
      text-align: left;
      max-height: 150px;
      overflow-y: auto;
      font-size: 13px;
    }
  </style>
</head>
<body>

<!-- LOGIN -->
<div class="card" id="loginCard">
  <h2>üîê Login</h2>

  <!-- Supabase Email Insert -->
  <input type="email" id="email" placeholder="Enter email">
  <button class="secondary" onclick="insertUser()">Submit Email</button>

  <hr style="margin:15px 0; opacity:0.3;">

  <input id="loginUser" type="email" placeholder="Email">
<input id="loginPass" type="password" placeholder="Password">

<button class="primary" onclick="login()">Login</button>
<button class="secondary" onclick="showRegister()">Register</button>

<p id="loginError" style="color:red;"></p>
</div>

<!-- REGISTER -->
<div class="card hidden" id="registerCard">
  <h2>üìù Register</h2>

  <input id="regUser" type="email" placeholder="Email">
  <input id="regPass" type="password" placeholder="Password">

  <button class="primary" onclick="register()">Register</button>
  <button class="secondary" onclick="showLogin()">Back to Login</button>

  
  <p id="registerError" style="color:red;"></p>
</div>

<!-- MAIN APP -->
<div class="card hidden" id="mainApp">
  <h2>üç™ Cookie Toolkit</h2>
  <div id="userInfo"></div>

  <textarea id="cookieInput" placeholder="Paste cookie..."></textarea>
  <button class="primary" onclick="convertCookie()">Convert</button>
  <button class="secondary" onclick="requestPremium()">Request Premium</button>
  <button class="secondary" onclick="logout()">Logout</button>

  <pre id="output"></pre>
  

</div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    alert("Script loaded!");
  const supabaseUrl = "https://fgqgnrhmckssuwflwihv.supabase.co"
  const supabaseKey = "sb_publishable_HC_Bypejn-Z6g49rLE8wlA_b0xJln19"
  const supabase = window.supabase.createClient(supabaseUrl, supabaseKey)
  const loginCard = document.getElementById("loginCard");
  const registerCard = document.getElementById("registerCard");
  const mainApp = document.getElementById("mainApp");
  async function register() {
  alert("Button clicked!");

  const email = document.getElementById("regUser").value.trim();
  const password = document.getElementById("regPass").value.trim();

  const { data, error } = await supabase.auth.signUp({
    email: email,
    password: password
  });

  if (error) {
    alert("Error: " + error.message);
  } else {
    alert("Account created! Check your email.");
    console.log(data);
  }
}
</script>
  
<script>

function showRegister() {
  loginCard.classList.add("hidden");
  registerCard.classList.remove("hidden");
}

function showLogin() {
  registerCard.classList.add("hidden");
  loginCard.classList.remove("hidden");
}

async function register() {
  alert("Button clicked!");

  const email = document.getElementById("regUser").value.trim();
  const password = document.getElementById("regPass").value.trim();

  const { data, error } = await supabase.auth.signUp({
    email: email,
    password: password
  });

  if (error) {
    alert("Error: " + error.message);
  } else {
    alert("Account created! Check your email.");
    console.log(data);
  }
}


}

function convertCookie() {
  const input = cookieInput.value.trim();
  if (!input) return;

  const obj = {};
  input.split(";").forEach(pair=>{
    const parts = pair.trim().split("=");
    if (parts.length>=2) {
      const key=parts.shift();
      obj[key]=parts.join("=");
    }
  });

  output.textContent = JSON.stringify(obj,null,2);
}

function logout() {
  location.reload();
}
</script>

  



</body>
</html>
