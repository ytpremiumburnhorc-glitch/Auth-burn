<!DOCTYPE html>
<html>
<head>
  <title>Cookie Toolkit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(-45deg, #0f172a, #1e293b, #0ea5e9, #9333ea);
      background-size: 400% 400%;
      animation: bg 12s ease infinite;
      color: white;
    }

    @keyframes bg {
      0% { background-position:0% 50%; }
      50% { background-position:100% 50%; }
      100% { background-position:0% 50%; }
    }

    .card {
      width: 95%;
      max-width: 500px;
      padding: 30px;
      border-radius: 20px;
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.2);
      text-align: center;
    }

    input, textarea {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border-radius: 10px;
      border: none;
      outline: none;
    }

    textarea { height: 100px; resize: none; }

    button {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border-radius: 10px;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }

    .primary { background: linear-gradient(135deg,#00ffcc,#00c3ff); color:black; }
    .secondary { background: rgba(255,255,255,0.2); color:white; }

    .hidden { display:none; }

    .badge {
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 12px;
      display: inline-block;
      margin-top: 5px;
    }

    .premium { background: gold; color:black; }
    .member { background: #00c3ff; color:black; }

    .admin-panel {
      background: rgba(0,0,0,0.3);
      padding: 10px;
      margin-top: 15px;
      border-radius: 10px;
      text-align: left;
      max-height: 150px;
      overflow-y: auto;
      font-size: 13px;
    }
  </style>
</head>
<body>

<!-- LOGIN -->
<div class="card" id="loginCard">
  <h2>üîê Login</h2>
  <input id="loginUser" placeholder="Username">
  <input id="loginPass" type="password" placeholder="Password">
  <button class="primary" onclick="login()">Login</button>
  <button class="secondary" onclick="showRegister()">Register</button>
  <p id="loginError" style="color:red;"></p>
</div>

<!-- REGISTER -->
<div class="card hidden" id="registerCard">
  <h2>üìù Register</h2>
  <input id="regUser" placeholder="Username">
  <input id="regPass" type="password" placeholder="Password">
  <button class="primary" onclick="register()">Create Account</button>
  <button class="secondary" onclick="showLogin()">Back to Login</button>
  <p id="registerError" style="color:red;"></p>
</div>

<!-- MAIN APP -->
<div class="card hidden" id="mainApp">
  <h2>üç™ Cookie Toolkit</h2>
  <div id="userInfo"></div>

  <textarea id="cookieInput" placeholder="Paste cookie..."></textarea>
  <button class="primary" onclick="convertCookie()">Convert</button>
  <button class="secondary" onclick="requestPremium()">Request Premium</button>
  <button class="secondary" onclick="logout()">Logout</button>

  <pre id="output"></pre>

  <!-- ADMIN PANEL -->
  <div id="adminPanel" class="admin-panel hidden"></div>
</div>

<script>
const ADMIN_USER = "adminBURN";
const ADMIN_PASS = "HDSzRCv5";

let currentUser = null;

function showRegister() {
  loginCard.classList.add("hidden");
  registerCard.classList.remove("hidden");
}

function showLogin() {
  registerCard.classList.add("hidden");
  loginCard.classList.remove("hidden");
}

function register() {
  const user = regUser.value.trim();
  const pass = regPass.value.trim();
  let users = JSON.parse(localStorage.getItem("users")) || [];

  if (users.find(u => u.username === user)) {
    registerError.textContent = "Username exists.";
    return;
  }

  users.push({ username:user, password:pass, role:"member", premium:false });
  localStorage.setItem("users", JSON.stringify(users));
  alert("Account created!");
  showLogin();
}

function login() {
  const user = loginUser.value.trim();
  const pass = loginPass.value.trim();
  let users = JSON.parse(localStorage.getItem("users")) || [];

  if (user === ADMIN_USER && pass === ADMIN_PASS) {
    currentUser = { username:user, role:"admin", premium:true };
    showApp();
    return;
  }

  const found = users.find(u => u.username===user && u.password===pass);
  if (!found) {
    loginError.textContent = "Invalid login.";
    return;
  }

  currentUser = found;
  showApp();
}

function showApp() {
  loginCard.classList.add("hidden");
  registerCard.classList.add("hidden");
  mainApp.classList.remove("hidden");

  userInfo.innerHTML = `
    <strong>${currentUser.username}</strong><br>
    <span class="badge ${currentUser.premium ? 'premium' : 'member'}">
      ${currentUser.premium ? 'Premium Member ‚≠ê' : 'Member'}
    </span>
  `;

  if (currentUser.role === "admin") {
    showAdminPanel();
  }
}

function requestPremium() {
  if (currentUser.premium) {
    alert("You are already premium.");
    return;
  }

  let requests = JSON.parse(localStorage.getItem("premiumRequests")) || [];
  requests.push(currentUser.username);
  localStorage.setItem("premiumRequests", JSON.stringify(requests));
  alert("Premium request sent to admin.");
}

function showAdminPanel() {
  adminPanel.classList.remove("hidden");
  let requests = JSON.parse(localStorage.getItem("premiumRequests")) || [];

  if (!requests.length) {
    adminPanel.innerHTML = "<strong>No premium requests.</strong>";
    return;
  }

  adminPanel.innerHTML = "<strong>Premium Requests:</strong><br>";
  requests.forEach(user=>{
    adminPanel.innerHTML += `
      ${user}
      <button onclick="approve('${user}')">Approve</button><br>
    `;
  });
}

function approve(username) {
  let users = JSON.parse(localStorage.getItem("users")) || [];
  let requests = JSON.parse(localStorage.getItem("premiumRequests")) || [];

  users = users.map(u=>{
    if (u.username === username) u.premium = true;
    return u;
  });

  requests = requests.filter(u=>u!==username);

  localStorage.setItem("users", JSON.stringify(users));
  localStorage.setItem("premiumRequests", JSON.stringify(requests));
  alert(username + " is now Premium!");
  showAdminPanel();
}

function convertCookie() {
  const input = cookieInput.value.trim();
  if (!input) return;

  const obj = {};
  input.split(";").forEach(pair=>{
    const parts = pair.trim().split("=");
    if (parts.length>=2) {
      const key=parts.shift();
      obj[key]=parts.join("=");
    }
  });

  output.textContent = JSON.stringify(obj,null,2);
}

function logout() {
  location.reload();
}
</script>

</body>
</html>
